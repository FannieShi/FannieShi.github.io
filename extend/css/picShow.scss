*,
*:after,
*:before {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}
body {
    font-family: 'Open Sans', Helvetica, Arial, "微软雅黑", sans-serif;
    background: #1f1f1f;
}

$vPadding: 80px;
$hPadding: 70px;
$picNum: 5;
$picMargin: 1%;
$opacityAT: .5s;

.container {
    position: relative;
    height: 100vh;
    padding: $vPadding $hPadding;
    overflow: hidden;

    & .inner {
        position: relative;
        height: 100%;
        &:hover .pic-bg:after {
            opacity: 1;
        }
    }
}

.pic {
    $picWidth: (100% - $picMargin*($picNum - 1))/$picNum;
    $picMar: percentage($picMargin/$picWidth);

    position: absolute;
    left: 0;
    top: 0;
    width: $picWidth;
    height: 100%;
    background: #555;
    
    &:hover {
        cursor: pointer;
        .pic-bg:after {
            opacity: 0!important;
        }
    }

    &-bd {
        position: relative;
        overflow: hidden;
        height: 100%;
    }

    &-bg {
        position: relative;
        width: calc(100vw - #{$hPadding * 2});
        height: 100%;
        will-change: transform;
        &:before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center center;
        }
        &:after {
            content: '';
            position: absolute;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, .3);
            opacity: 0;
            transition: opacity $opacityAT;
        }
    }

    @for $i from 0 to $picNum {
        &:nth-child(#{$i + 1}) {
            $x: (100% + $picMar) * $i;
            transform: translate($x, 0);
            transform-origin: $x + 50% 50%;

            .pic-bg {
                transform: translate($picWidth * $i * -1,0);
                &:before { 
                    background-image: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/142996/onepgscr-#{$i + 3}.jpg");
                }
            }
        }
    }

}
