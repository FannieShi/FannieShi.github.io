<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>限制字符串长度</title>
<link rel="stylesheet" type="text/css" href="../extend/css/bootstrap.min.css"/>
<link rel="stylesheet" type="text/css" href="../extend/css/bootstrap-theme.min.css"/>
<link rel="stylesheet" type="text/css" href="../extend/css/commen.css"/>
<style type="text/css">
	.popover { left: 100%; width: 200px; line-height: 95%; color: #f00; }
	.popover .arrow { position: absolute; left: -10px; top: 50%; margin-top: -8px; border-right: 10px solid rgba(0,0,0,.2); border-top: 8px solid transparent; border-bottom: 8px solid transparent; }
	.popover .arrow::after { content: ''; position: absolute; left: 1px; top: 50%; margin-top: -7px; border-right: 10px solid #fff; border-top: 7px solid transparent; border-bottom: 7px solid transparent; }
</style>
</head>
<body>
<div class="box1">
	<form class="form-horizontal">
		<div class="form-group">
			<label for="name" class="col-sm-2 control-label">姓名</label>
			<div class="col-sm-10">
				<input type="text" id="name" class="col-sm-10 form-control" maxlength="4" placeholder="姓名" />
				<div class="popover right">
					<div class="popover-content">
						<div>最多只能输入4个中文字</div>
						<div class="arrow"></div>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>
	
<script type="text/javascript">
	(function(){
		var $name = document.getElementById('name');
		$name.onfocus = $name.onblur = function(){
			check(this);
		}
		function check(obj){
			var oVal = obj.value;
			var maxLen = obj.getAttribute('maxlength');
			if(oVal.match(/[^\u4e00-\u9fa5]/g)||oVal.length > maxLen){
				obj.parentNode.getElementsByTagName('div')[0].style.display = 'block';
			}else {
				obj.parentNode.getElementsByTagName('div')[0].style.display = 'none';
			}
		}
	})();
	
</script>
</body>
</html>
