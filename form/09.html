<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>仿微博提示可输入剩余字符</title>
<link rel="stylesheet" type="text/css" href="../extend/css/bootstrap.min.css"/>
<link rel="stylesheet" type="text/css" href="../extend/css/bootstrap-theme.min.css"/>
<link rel="stylesheet" type="text/css" href="../extend/css/commen.css"/>
<style type="text/css">
	.tips p {
		line-height: 50px;
		text-align: left;
	}
	.tips .red {
		margin: 0 5px;
		font-family: Constantia, Georgia;
		font-style: italic;
		font-size: 24px;
		color: #f00;
	}
</style>
</head>
<body>
<div class="box1">
	<form class="form-horizontal">
		<div class="form-group">
			<div class="col-sm-10">
				<textarea class="form-control" rows="8" maxlength="140" placeholder="请输入..."></textarea>
				<div class="tips">
					<p>还可以输入<i class="red" id="num">140</i>个字</p>
				</div>
			</div>
		</div>
		<div class="form-group">
			<div class="col-sm-10">
				<button type="button" class="btn btn-primary btn-block">提　交</button>
			</div>
		</div>
	</form>
</div>
<script type="text/javascript">
	(function(){
		var form = document.getElementsByTagName('form')[0];
		var textarea = form.getElementsByTagName('textarea')[0];
		var num = document.getElementById('num');
		textarea.oninput = textarea.onpropertychange = function(){
			num.innerHTML = count(this);
		}
		function count(obj){
			var m = obj.getAttribute('maxlength') ? obj.getAttribute('maxlength') : 140,
				l = obj.value.length;
			if(l < m){
				return m-l;
			}else {
				obj.value = obj.value.substr(0,140);
				return 0;
			}
		}
	})();
</script>
</body>
</html>
