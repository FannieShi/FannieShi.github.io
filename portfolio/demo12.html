<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>文本框内容自动滚动</title>
</head>
<body>
	<h2>文本框中的文字自动滚动效果</h2>
	<div id="rollBox" class="rollBox" data-width="100" data-height="100">
		1111111111111
		2222222222222
		3333333333333
		4444444444444
		5555555555555
	</div>

<script type="text/javascript">
	window.onload = function(){
		var rollBox = document.getElementById('rollBox'),
			_div = rollBox.innerHTML,
			setCss = function(_this,cssOption){
				//检测节点类型
				if(!_this || _this.nodeType === 3 || _this.nodeType === 8 || !_this.style){
					return ;
				}
				for(var cs in cssOption){    //遍历样式
					_this.style[cs] = cssOption[cs];
				}
				return _this;
			};
		rollBox.innerHTML = "<div id='rollBox_roll'>"+ _div +"</div>";
		setCss(rollBox,{
			"position": "relative",
			"overflow": "hidden",
			"wordWrap": "break-word",
			"wordBreak": "break-all",
			"width": rollBox.getAttribute('data-width') + 'px',
			"height": rollBox.getAttribute('data-height') + 'px'
		});
		var timeRoll = document.getElementById('rollBox_roll'),
			_h = timeRoll.offsetHeight;     //获取对象的滚动高度
			timeoutRoll = function(){
				var _h = timeRoll.offsetHeight,
					_t = parseInt(timeRoll.style.top,10),
					_tt = _h >　Math.abs(_t) || _t >= 0 ? _t-10 : (_h || 0);
				setCss(timeRoll,{
					"top": _tt + 'px'
				})
				setTimeout(timeoutRoll,200);
			}
			
		if(_h > rollBox.getAttribute("data-height")){
			timeoutRoll();
			setCss(timeRoll,{
				"position": "relative",
				"top": "0px"
			});
		}
			
	}
</script>
</body>
</html>
